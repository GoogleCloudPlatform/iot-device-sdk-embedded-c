<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Google Cloud IoT Device SDK for Embedded C (IoTC) BSP: iotc_bsp_tls.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Google Cloud IoT Device SDK for Embedded C (IoTC) BSP
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_892c6830e89bd42b86edfc698815ae23.html">bsp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">iotc_bsp_tls.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="../../dd/d79/iotc__bsp__tls_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d57/structiotc__bsp__tls__init__params__s.html">iotc_bsp_tls_init_params_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a04135ac36f89f7556bed21a3ba063fd4"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbe">iotc_bsp_tls_state_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a></td></tr>
<tr class="separator:a04135ac36f89f7556bed21a3ba063fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192cd1d46a8423e9e64529cef117c836"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d9/d57/structiotc__bsp__tls__init__params__s.html">iotc_bsp_tls_init_params_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a192cd1d46a8423e9e64529cef117c836">iotc_bsp_tls_init_params_t</a></td></tr>
<tr class="separator:a192cd1d46a8423e9e64529cef117c836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265abda9c0f31f454688e90caae38168"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a></td></tr>
<tr class="separator:a265abda9c0f31f454688e90caae38168"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9fe0d79a34c77391b4a2a27ccc942bbe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbe">iotc_bsp_tls_state_e</a> { <br />
&#160;&#160;<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbea9281dd6b7990de0f2297610977b512d7">IOTC_BSP_TLS_STATE_OK</a> = 0, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbea74053f0da5a27aded98612fcace8f273">IOTC_BSP_TLS_STATE_INIT_ERROR</a> = 1, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeaee51133e2c5085a693fd34ad053dd775">IOTC_BSP_TLS_STATE_CERT_ERROR</a> = 2, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeaf73e21f0fc248b2645568b62f54ee94b">IOTC_BSP_TLS_STATE_CONNECT_ERROR</a> = 3, 
<br />
&#160;&#160;<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeae17827069a46cc4553672cf022e8a7c5">IOTC_BSP_TLS_STATE_WANT_READ</a> = 4, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeab1a41f24ef2dfceb70cada2e33f0f13b">IOTC_BSP_TLS_STATE_WANT_WRITE</a> = 5, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeabfe6e6f1f2bd9528b9e45c244a30ee2f">IOTC_BSP_TLS_STATE_READ_ERROR</a> = 6, 
<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbeabbfc58be476b037a08939791ca730924">IOTC_BSP_TLS_STATE_WRITE_ERROR</a> = 7
<br />
 }</td></tr>
<tr class="separator:a9fe0d79a34c77391b4a2a27ccc942bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6b3c115bd0072f1da49517f3a4faf15c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a6b3c115bd0072f1da49517f3a4faf15c">iotc_bsp_tls_init</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> **tls_context, <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a192cd1d46a8423e9e64529cef117c836">iotc_bsp_tls_init_params_t</a> *init_params)</td></tr>
<tr class="separator:a6b3c115bd0072f1da49517f3a4faf15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab5afe0fbbca362c178cad70629a024"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a7ab5afe0fbbca362c178cad70629a024">iotc_bsp_tls_cleanup</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> **tls_context)</td></tr>
<tr class="separator:a7ab5afe0fbbca362c178cad70629a024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeae1097e4f72df9ab189f905efccd56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#adeae1097e4f72df9ab189f905efccd56">iotc_bsp_tls_connect</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *tls_context)</td></tr>
<tr class="separator:adeae1097e4f72df9ab189f905efccd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56c6dd5e49f3931a2b0bad1b0a6c2d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#aa56c6dd5e49f3931a2b0bad1b0a6c2d1">iotc_bsp_tls_read</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *tls_context, uint8_t *data_ptr, size_t data_size, int *bytes_read)</td></tr>
<tr class="separator:aa56c6dd5e49f3931a2b0bad1b0a6c2d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687cdea65fd2da9fe6aa970902742669"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a687cdea65fd2da9fe6aa970902742669">iotc_bsp_tls_pending</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *tls_context)</td></tr>
<tr class="separator:a687cdea65fd2da9fe6aa970902742669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab383b573544b2321538d7718a196a6b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#ab383b573544b2321538d7718a196a6b2">iotc_bsp_tls_write</a> (<a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *tls_context, uint8_t *data_ptr, size_t data_size, int *bytes_written)</td></tr>
<tr class="separator:ab383b573544b2321538d7718a196a6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859faf01f74967f5ed7398d8c9b2f677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a859faf01f74967f5ed7398d8c9b2f677">iotc_bsp_tls_recv_callback</a> (char *buf, int sz, void *context, int *bytes_sent)</td></tr>
<tr class="separator:a859faf01f74967f5ed7398d8c9b2f677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a623cf2b96662678906317084447b5e63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a623cf2b96662678906317084447b5e63">iotc_bsp_tls_send_callback</a> (char *buf, int sz, void *context, int *bytes_sent)</td></tr>
<tr class="separator:a623cf2b96662678906317084447b5e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IoTC Client's Board Support Platform (BSP) for Transport Layer Security (TLS) </p>
<p>This file defines the API of a TLS Board Support Package (BSP) that the IoT Device SDK would use to secure its connection to the Google Cloud IoT Core service. In order to build this secure connection you will need to implement these functions to utilize a TLS implementation on your device. Reference implementations of this TLS BSP have been provided in source form for your reference in the src/bsp/tls directory.</p>
<p>These functions should be implemented in a non-blocking fashion. </p>

<p class="definition">Definition in file <a class="el" href="../../dd/d79/iotc__bsp__tls_8h_source.html">iotc_bsp_tls.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a265abda9c0f31f454688e90caae38168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a265abda9c0f31f454688e90caae38168">&#9670;&nbsp;</a></span>iotc_bsp_tls_context_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IoT Device SDK BSP TLS's context representation type. </p>
<p>It is assumed that you may need to create a TLS library context in the TLS BSP's initialization function.</p>
<p>This type can be used to return such a context to the IoT Device SDK, which will then provide the value to your other TLS BSP functions for use in their implementations.</p>
<p>The IoT Device SDK is unaware of the actual content and structure of this value, thus it does not read or write this context directly. </p>

<p class="definition">Definition at line <a class="el" href="../../dd/d79/iotc__bsp__tls_8h_source.html#l00113">113</a> of file <a class="el" href="../../dd/d79/iotc__bsp__tls_8h_source.html">iotc_bsp_tls.h</a>.</p>

</div>
</div>
<a id="a192cd1d46a8423e9e64529cef117c836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192cd1d46a8423e9e64529cef117c836">&#9670;&nbsp;</a></span>iotc_bsp_tls_init_params_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a192cd1d46a8423e9e64529cef117c836">iotc_bsp_tls_init_params_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IoT Device SDK BSP TLS init function parameters. </p>
<p>Contains data provided by the IoT Device SDK when it invokes <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a6b3c115bd0072f1da49517f3a4faf15c">iotc_bsp_tls_init()</a>. </p>

</div>
</div>
<a id="a04135ac36f89f7556bed21a3ba063fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04135ac36f89f7556bed21a3ba063fd4">&#9670;&nbsp;</a></span>iotc_bsp_tls_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbe">iotc_bsp_tls_state_e</a>  <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9fe0d79a34c77391b4a2a27ccc942bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe0d79a34c77391b4a2a27ccc942bbe">&#9670;&nbsp;</a></span>iotc_bsp_tls_state_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a9fe0d79a34c77391b4a2a27ccc942bbe">iotc_bsp_tls_state_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbea9281dd6b7990de0f2297610977b512d7"></a>IOTC_BSP_TLS_STATE_OK&#160;</td><td class="fielddoc"><p>operation finished successfully </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbea74053f0da5a27aded98612fcace8f273"></a>IOTC_BSP_TLS_STATE_INIT_ERROR&#160;</td><td class="fielddoc"><p>init operation failed </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeaee51133e2c5085a693fd34ad053dd775"></a>IOTC_BSP_TLS_STATE_CERT_ERROR&#160;</td><td class="fielddoc"><p>ca certification validation failed </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeaf73e21f0fc248b2645568b62f54ee94b"></a>IOTC_BSP_TLS_STATE_CONNECT_ERROR&#160;</td><td class="fielddoc"><p>error during connecting process </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeae17827069a46cc4553672cf022e8a7c5"></a>IOTC_BSP_TLS_STATE_WANT_READ&#160;</td><td class="fielddoc"><p>io is busy wait for data </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeab1a41f24ef2dfceb70cada2e33f0f13b"></a>IOTC_BSP_TLS_STATE_WANT_WRITE&#160;</td><td class="fielddoc"><p>io buffer is full wait for signal </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeabfe6e6f1f2bd9528b9e45c244a30ee2f"></a>IOTC_BSP_TLS_STATE_READ_ERROR&#160;</td><td class="fielddoc"><p>error during reading operation </p>
</td></tr>
<tr><td class="fieldname"><a id="a9fe0d79a34c77391b4a2a27ccc942bbeabbfc58be476b037a08939791ca730924"></a>IOTC_BSP_TLS_STATE_WRITE_ERROR&#160;</td><td class="fielddoc"><p>error during writing operation </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../dd/d79/iotc__bsp__tls_8h_source.html#l00045">45</a> of file <a class="el" href="../../dd/d79/iotc__bsp__tls_8h_source.html">iotc_bsp_tls.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7ab5afe0fbbca362c178cad70629a024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab5afe0fbbca362c178cad70629a024">&#9670;&nbsp;</a></span>iotc_bsp_tls_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> **&#160;</td>
          <td class="paramname"><em>tls_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Provides a method for the TLS BSP implementation to free its context.</p>
<p>Invoked when the IoT Device SDK is cleaning up a closed or closing connection. The implementation of this function must deallocate the TLS library's previously allocated resources. Your implementation should also release any data associated with the tls_context as no further operations will be requested of it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[in|out]</td><td>tls_context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOTC_BSP_TLS_STATE_OK </dd></dl>

</div>
</div>
<a id="adeae1097e4f72df9ab189f905efccd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeae1097e4f72df9ab189f905efccd56">&#9670;&nbsp;</a></span>iotc_bsp_tls_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *&#160;</td>
          <td class="paramname"><em>tls_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Implements the TLS connect functionality.</p>
<p>This function may be called several times by IoT Device SDK before the handshake is completed. This function shouldn't block, and may return IOTC_BSP_TLS_STATE_WANT_WRITE or IOTC_BSP_TLS_STATE_WANT_READ instead.</p>
<p>This function will send or receive data internally during it's execution so it is expected that there will be subsequent calls to the TLS library's send and recv functions.</p>
<p>In case of any error this function must return IOTC_BSP_TLS_STATE_CONNECT_ERROR.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tls_context</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>IOTC_BSP_TLS_STATE_OK in case of a successfully finished handshake</li>
<li>IOTC_BSP_TLS_STATE_WANT_READ | IOTC_BSP_TLS_STATE_WANT_WRITE in case handshake requires to receive or send more data in order to continue</li>
<li>IOTC_BSP_TLS_STATE_CERT_ERROR</li>
<li>IOTC_BSP_TLS_STATE_CONNECT_ERROR in case of failure </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a6b3c115bd0072f1da49517f3a4faf15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b3c115bd0072f1da49517f3a4faf15c">&#9670;&nbsp;</a></span>iotc_bsp_tls_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> **&#160;</td>
          <td class="paramname"><em>tls_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a192cd1d46a8423e9e64529cef117c836">iotc_bsp_tls_init_params_t</a> *&#160;</td>
          <td class="paramname"><em>init_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Provides a method for the IoT Device SDK to initialize a TLS library.</p>
<p>Initializes the TLS library and returns its context through a tls_context parameter.</p>
<p>This function will be called before other BSP TLS functions. The implementation should return IOTC_BSP_TLS_STATE_OK in case of a success or IOTC_BSP_TLS_STATE_INIT_ERROR in case of a failure.</p>
<p>Content of the init_params will be destroyed after the iotc_bsp_tls_init returns. Any data required from init_params to live outside the scope of this function must be copied and stored by your implementation.</p>
<p>The IoT Device SDK I/O implementation requires the regstration custom send and recv functions in the TLS library. These functions, iotc_bsp_tls_recv_callback and iotc_bsp_tls_send_callback, declared below, are implemented by the IoT Device SDK internally to send and received data through the IoT Device SDK's I/O system, respecitvely.</p>
<p>For more details please refer to our reference implementations of the TLS BSP in src/bsp/tls.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">tls_context</td><td>pointer to a pointer to a iotc_bsp_tls_context_t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_params</td><td>data required for TLS library initialization </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>IOTC_BSP_TLS_STATE_OK in case of success</li>
<li>IOTC_BSP_TLS_STATE_INIT_ERROR otherwise </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a687cdea65fd2da9fe6aa970902742669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687cdea65fd2da9fe6aa970902742669">&#9670;&nbsp;</a></span>iotc_bsp_tls_pending()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int iotc_bsp_tls_pending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *&#160;</td>
          <td class="paramname"><em>tls_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Implements a function to determine number of pending readable bytes.</p>
<p>Implementation of this function should call the TLS library's pending function. It should return the the number of bytes that are available to be read by the TLS library's read function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tls_context</td><td>- context of the TLS library. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes available to read. </dd></dl>

</div>
</div>
<a id="aa56c6dd5e49f3931a2b0bad1b0a6c2d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa56c6dd5e49f3931a2b0bad1b0a6c2d1">&#9670;&nbsp;</a></span>iotc_bsp_tls_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *&#160;</td>
          <td class="paramname"><em>tls_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytes_read</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Implements the a function to read data from the TLS implementation.</p>
<p>Implementation of this function should call the TLS library's read function. It should also translate the result returned by the TLS read function to one of the following IoT Device SDK BSP state values:</p><ul>
<li>IOTC_BSP_TLS_STATE_OK - whenever the read operation finished successfully.</li>
<li>IOTC_BSP_TLS_STATE_WANT_READ - whenever the read operation requires more data.</li>
<li>IOTC_BSP_TLS_STATE_READ_ERROR - whenever any other error occurred during the read operation.</li>
</ul>
<p>The argument bytes_read should be set to the number of bytes read and processed by the TLS implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tls_context</td><td>- context of the TLS library. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_ptr</td><td>- ptr to a buffer to store any read data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_size</td><td>- size of the buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bytes_read</td><td>- number of bytes read via the TLS library read function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>IOTC_BSP_TLS_STATE_OK</li>
<li>IOTC_BSP_TLS_STATE_WANT_READ</li>
<li>IOTC_BSP_TLS_STATE_READ_ERROR </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a859faf01f74967f5ed7398d8c9b2f677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859faf01f74967f5ed7398d8c9b2f677">&#9670;&nbsp;</a></span>iotc_bsp_tls_recv_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_recv_callback </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytes_sent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>These are implemented by IoT Device SDK and should not be defined by any BSP TLS solutions. </p>
<p>However, pointers to these functions must be provided to the TLS implementation to allow the IoTC client to read and write data to it. </p>

</div>
</div>
<a id="a623cf2b96662678906317084447b5e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a623cf2b96662678906317084447b5e63">&#9670;&nbsp;</a></span>iotc_bsp_tls_send_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_send_callback </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytes_sent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab383b573544b2321538d7718a196a6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab383b573544b2321538d7718a196a6b2">&#9670;&nbsp;</a></span>iotc_bsp_tls_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a04135ac36f89f7556bed21a3ba063fd4">iotc_bsp_tls_state_t</a> iotc_bsp_tls_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d79/iotc__bsp__tls_8h.html#a265abda9c0f31f454688e90caae38168">iotc_bsp_tls_context_t</a> *&#160;</td>
          <td class="paramname"><em>tls_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>bytes_written</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>Implements the TLS write to encrypt and send data.</p>
<p>The implementation of this function should call TLSs library write function. It should also translate the result returned by the TLS library to one of:</p><ul>
<li>IOTC_BSP_TLS_STATE_OK - whenever the operation finished successfully.</li>
<li>IOTC_BSP_TLS_STATE_WANT_WRITE - whenever the write operation wants to send more data.</li>
<li>IOTC_BSP_TLS_STATE_WRITE_ERROR - whenever any other error occured during the write operation</li>
</ul>
<p>Argument bytes_written should be set to a number of bytes actually written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tls_context</td><td>- context of the TLS library </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_ptr</td><td>- ptr to a buffer with data to be sent </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_size</td><td>- size of the buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bytes_written</td><td>- number of bytes written via the TLS library write function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>IOTC_BSP_TLS_STATE_OK</li>
<li>IOTC_BSP_TLS_STATE_WANT_WRITE</li>
<li>IOTC_BSP_TLS_STATE_WRITE_ERROR </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
